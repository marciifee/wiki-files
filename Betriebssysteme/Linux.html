<!--
title: Linux
description: 
published: true
date: 2023-04-13T13:16:49.902Z
tags: 
editor: ckeditor
dateCreated: 2023-03-29T20:24:34.708Z
-->

<h1>Linux</h1>
<p>&nbsp;</p>
<h2><strong>How to Remove Files</strong></h2>
<p>To remove (or delete) a file in Linux from the command line, use either the <code>rm</code> (remove) or <code>unlink</code> command.</p>
<p>The <code>unlink</code> command allows you to remove only a single file, while with <code>rm</code>, you can remove multiple files at once.</p>
<p>Be extra careful when removing files or directories, because once the file is deleted it cannot be easily recovered.</p>
<p>To delete a single file, use the <a href="https://linuxize.com/post/rm-command-in-linux/"><code><u>rm</u></code></a> or <a href="https://linuxize.com/post/unlink-command-in-linux/"><code><u>unlink</u></code></a> command followed by the file name:</p>
<pre><code class="language-plaintext">unlink filename</code></pre>
<pre><code class="language-plaintext">rm filename</code></pre>
<p>If the file is write-protected, you will be prompted for confirmation, as shown below. To remove the file type <code>y</code>, and hit <code>Enter</code>. Otherwise, if the file is not write-protected, it will be deleted without prompting.</p>
<pre><code class="language-plaintext"> 
rm: remove write-protected regular empty file 'filename'?</code></pre>
<p>To delete multiple files at once, use the <code>rm</code> command followed by the file names separated by space.</p>
<pre><code class="language-plaintext">rm filename1 filename2 filename3</code></pre>
<p>You can also use a wildcard (<code>*</code>) and regular expansions to match multiple files. For example, to remove all <code>.pdf</code> files in the current directory, use the following command:</p>
<pre><code class="language-plaintext">rm *.pdf</code></pre>
<p>When using regular expansions, first list the files with the <a href="https://linuxize.com/post/how-to-list-files-in-linux-using-the-ls-command/"><code><u>ls</u></code></a> command so that you can see what files will be deleted before running the <code>rm</code> command.</p>
<p>Use the <code>rm</code> with the <code>-i</code> option to confirm each file before deleting it:</p>
<pre><code class="language-plaintext">rm -i filename(s)</code></pre>
<p>To remove files without prompting, even if the files are write-protected, pass the <code>-f</code> (force) option to the <code>rm</code> command:</p>
<pre><code class="language-plaintext">rm -f filename(s)</code></pre>
<p>You can also combine <code>rm</code> options. For example, to remove all <code>.txt</code> files in the current directory without a prompt in verbose mode, use the following command:</p>
<pre><code class="language-plaintext">rm -fv *.txt</code></pre>
<h2><strong>How to Remove Directories (Folders)</strong></h2>
<p>In Linux, you can <a href="https://linuxize.com/post/remove-directory-linux/"><u>remove/delete directories</u></a> with the <code>rmdir</code> and <code>rm</code>.</p>
<p><code>rmdir</code> is a command-line utility for deleting empty directories, while with <code>rm</code> you can remove directories and their contents recursively.</p>
<p>To remove an empty directory, use either <code>rmdir</code> or <code>rm -d</code> followed by the directory name:</p>
<pre><code class="language-plaintext">rm -d dirname</code></pre>
<pre><code class="language-plaintext">rmdir dirname</code></pre>
<p>To remove non-empty directories and all the files within them, use the <code>rm</code> command with the<code>-r</code> (recursive) option:</p>
<pre><code class="language-plaintext">rm -r dirname</code></pre>
<p>If a directory or a file within the directory is write-protected, you will be prompted to confirm the deletion.</p>
<p>To remove non-empty directories and all the files without being prompted, use <code>rm</code> with the <code>-r</code> (recursive) and <code>-f</code> options:</p>
<pre><code class="language-plaintext">rm -rf dirname</code></pre>
<p>To remove multiple directories at once, use the <code>rm -r</code> command followed by the directory names separated by space.</p>
<pre><code class="language-plaintext">rm -r dirname1 dirname2 dirname3</code></pre>
<p>Same as with files, you can also use a wildcard (<code>*</code>) and regular expansions to match multiple directories.</p>
<h1>ODROID einrichten:</h1>
<p>Befehle:</p>
<p>udhcpc</p>
<p>netboot_default</p>
<p>exit</p>
<p>&nbsp;</p>
<p>---</p>
<p>sudo reboot</p>
<p>sudo -s</p>
<p>docker restart NAME DES CONTAINERS</p>
<p>---</p>
<p>sudo dhclient -r eth0</p>
<p>sudo dhclient -v eth0</p>
<p>---</p>
<p>sudo nano /etc/netplan/01-netcfg.yaml</p>
<p>&nbsp;</p>
<p>network:</p>
<p>&nbsp;version: 2</p>
<p>&nbsp;renderer: networkd</p>
<p>&nbsp;ethernets:</p>
<p>&nbsp; &nbsp;eth0:</p>
<p>&nbsp; &nbsp; &nbsp;dhcp4: no</p>
<p>&nbsp; &nbsp; &nbsp;dhcp6: yes</p>
<p>&nbsp; &nbsp; &nbsp;addresses:</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;- 192.168.5.252/24</p>
<p>&nbsp; &nbsp; &nbsp;nameservers:</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;addresses: [1.1.1.1, 8.8.8.8]</p>
<p>&nbsp; &nbsp; &nbsp;routes:</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;- to: default</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;via: 192.168.5.1</p>
<p>&nbsp;</p>
<p>sudo netplan apply</p>
<p>ip addr show eth0</p>
<p>ip route show</p>
<p>&nbsp;</p>
<hr>
<h1>UBUNTU SERVER einrichten:</h1>
<p>&nbsp;</p>
<h2>Updates manuell installieren:</h2>
<p>sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade</p>
<p>&nbsp;</p>
<p>---</p>
<p>sudo apt install net-tools</p>
<p>ifconfig</p>
<p>&nbsp;</p>
<h2>CLI CLPU und MEMORY Auslastung anzeigen lassen:</h2>
<p>sudo apt-get install htop</p>
<p>htop</p>
<p>&nbsp;</p>
<h2>SWAP anlegen wenn RAM nicht ausreicht:</h2>
<p>Kontrolle ob was vorhanden ist:</p>
<p>sudo swapon -s</p>
<p>free -m</p>
<p>df -h</p>
<p>&nbsp;</p>
<h2>SWAP löschen:</h2>
<p>sudo rm /swapfile</p>
<p>&nbsp;</p>
<p>Methode 1 anlegen:</p>
<p>sudo dd if=/dev/zero of=/swapfile bs=1G count=8</p>
<p>ls -lh /swapfile</p>
<p>&nbsp;</p>
<p>Methode 2 anlegen:</p>
<p>sudo fallocate -l 8G /swapfile</p>
<p>ls -lh /swapfile</p>
<p>&nbsp;</p>
<p>Enabling the Swap File:</p>
<p>sudo chmod 600 /swapfile</p>
<p>ls -lh /swapfile</p>
<p>sudo mkswap /swapfile</p>
<p>sudo swapon -s</p>
<p>&nbsp;</p>
<p>free -m</p>
<p>&nbsp;</p>
<p>Make the Swap File Permanent:</p>
<p>sudo nano /etc/fstab</p>
<p>&nbsp;</p>
<p>Füge ein:</p>
<p>/swapfile &nbsp; none &nbsp; &nbsp;swap &nbsp; &nbsp;sw &nbsp; &nbsp;0 &nbsp; 0</p>
<p>&nbsp;</p>
<p>Swap Settings:</p>
<p>cat /proc/sys/vm/swappiness</p>
<p>Wert könnte 60 sein muss aber runter mit:</p>
<p>sudo sysctl vm.swappiness=10</p>
<p>&nbsp;</p>
<p>sudo nano /etc/sysctl.conf</p>
<p>Füge ein:</p>
<p>vm.swappiness=10</p>
<p>&nbsp;</p>
<p>cat /proc/sys/vm/vfs_cache_pressure</p>
<p>wert könnte bei 100 liegen, muss aber runter mit:</p>
<p>sudo sysctl vm.vfs_cache_pressure=50</p>
<p>&nbsp;</p>
<p>sudo nano /etc/sysctl.conf</p>
<p>füge ein:</p>
<p>vm.vfs_cache_pressure = 50</p>
<p>&nbsp;</p>
<p>fertig.</p>
<p>&nbsp;</p>
<p>---</p>
<p>&nbsp;</p>
<h2>sudo passwd root</h2>
<p>&nbsp;</p>
<p>---</p>
<h2>Ports finden und killen:</h2>
<p>&nbsp;</p>
<p>netstat -ltnp | grep -w '80'</p>
<p>&nbsp;</p>
<p>sudo kill -9 `sudo lsof -t -i:80` &nbsp;</p>
<p>oder: kill -9 LISTEN-PID-Nummer-hier-einfuegen</p>
<p>&nbsp;</p>
<p>---</p>
<p>&nbsp;</p>
<h2>openSSH-Server installieren</h2>
<p>&nbsp;</p>
<p>sudo apt-get install openssh-server</p>
<p>sudo apt update</p>
<p>sudo apt upgrade</p>
<p>sudo systemctl enable ssh</p>
<p>sudo systemctl enable ssh --now</p>
<p>sudo systemctl start ssh</p>
<p>&nbsp;</p>
<p>sudo systemctl status ssh</p>
<p>&nbsp;</p>
<p>auf wsl: sudo service ssh start ... restart ... status</p>
<p>oder wsl: sudo /usr/sbin/service ssh start</p>
<p>oder mit powershell: New-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd) for WSL' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>---</p>
<h2>UFW Firewall:</h2>
<p>sudo apt install ufw</p>
<p>&nbsp;</p>
<p>#sudo ufw default deny incoming &lt;-- ich weiß nicht ob das okay ist.</p>
<p>sudo ufw default allow outgoing</p>
<p>&nbsp;</p>
<p>sudo ufw allow ssh</p>
<p>sudo ufw allow 9443/tcp</p>
<p>sudo ufw allow http</p>
<p>sudo ufw allow https</p>
<p>sudo ufw default allow routed</p>
<p>&nbsp;</p>
<p>---</p>
<p>ufw port forwarding:</p>
<p>&nbsp;</p>
<p>sudo nano /etc/default/ufw</p>
<p>&nbsp;</p>
<p>DEFAULT_FORWARD_POLICY="ACCEPT"</p>
<p>&nbsp;</p>
<p>sudo service ufw restart</p>
<p>&nbsp;</p>
<p>---</p>
<p>&nbsp;</p>
<p>sudo ufw enable</p>
<p>sudo ufw status</p>
<p>&nbsp;</p>
<p>sudo nano /etc/ssh/sshd_config</p>
<p>Kontrolliere ob dies so gesetzt ist, ansonsten ändere es so:</p>
<p>PasswordAuthentication yes</p>
<p>#ChallengeResponseAuthentication no</p>
<p>&nbsp;</p>
<p>sudo nano /etc/ssh/sshd_config</p>
<p>&nbsp;</p>
<p>füge hinzu:</p>
<p>PermitRootLogin yes</p>
<p>&nbsp;</p>
<p>sudo systemctl restart sshd</p>
<p>&nbsp;</p>
<p>---</p>
<p>bei firewall problemen:</p>
<p>&nbsp;</p>
<p>sudo ufw enable</p>
<p>sudo ufw disable</p>
<p>&nbsp;</p>
<p>---</p>
<p>Auf ofene Ports prüfen:</p>
<p>&nbsp;</p>
<p>sudo ufw status numbered &nbsp;</p>
<p>&nbsp;</p>
<p>---</p>
<p>&nbsp;</p>
<h2>Fail2Ban /mögliche Angreifer abwehren:</h2>
<p>&nbsp;</p>
<p>sudo apt install fail2ban</p>
<p>sudo fail2ban-client status</p>
<p>&nbsp;</p>
<p>---</p>
<h2>Docker installieren:</h2>
<p>&nbsp;</p>
<p>sudo apt update</p>
<p>sudo apt install apt-transport-https ca-certificates curl software-properties-common</p>
<p>sudo apt-get install ca-certificates curl gnupg lsb-release</p>
<p>&nbsp;</p>
<p>sudo mkdir -p /etc/apt/keyrings</p>
<p>&nbsp;</p>
<p>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</p>
<p>oder:</p>
<p>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</p>
<p>falls das nicht geht, dann:</p>
<p>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/docker.gpg</p>
<p>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</p>
<p>&nbsp;</p>
<p>nur für arm64:</p>
<p>sudo add-apt-repository 'deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable'</p>
<p>echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</p>
<p>&nbsp;</p>
<p>normal:</p>
<p>echo \</p>
<p>&nbsp;"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \</p>
<p>&nbsp;$(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</p>
<p>&nbsp;</p>
<p>Bei GPG Fehler:</p>
<p>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys *key nummer eingeben* und weiter machen!</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>sudo apt update oder sudo apt-get update</p>
<p>&nbsp;</p>
<p>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin</p>
<p>&nbsp;</p>
<p>alt:</p>
<p>apt-cache policy docker-ce</p>
<p>sudo apt install docker-ce</p>
<p>&nbsp;</p>
<p>fertig mit:</p>
<p>sudo systemctl status docker</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>sudo usermod -aG docker ${USER}</p>
<p>su - ${USER}</p>
<p>id -nG</p>
<p>&nbsp;</p>
<p>sudo usermod -aG docker root</p>
<p>&nbsp;</p>
<p>docker info</p>
<p>&nbsp;</p>
<p>sudo systemctl enable docker.service</p>
<p>sudo systemctl enable containerd.service</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>---</p>
<h2>Portainer installieren</h2>
<p>sudo docker volume create portainer_data</p>
<p>&nbsp;</p>
<p>sudo docker run -d -p 9443:9443 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:latest</p>
<p>&nbsp;</p>
<p>---</p>
<h2>CapRover Installation:</h2>
<p>&nbsp;</p>
<p>sudo docker run -p 80:80 -p 443:443 -p 3000:3000 -v /var/run/docker.sock:/var/run/docker.sock -v /captain:/captain caprover/caprover</p>
<p>&nbsp;</p>
<p>lokale installation bitte ip rechner hinterlegen:</p>
<p>&nbsp;</p>
<p>echo &nbsp;"{\"skipVerifyingDomains\":\"true\"}" &gt; &nbsp;/captain/data/config-override.json</p>
<p>docker run -e MAIN_NODE_IP_ADDRESS=192.168.X.XX -p 80:80 -p 443:443 -p 3000:3000 -v /var/run/docker.sock:/var/run/docker.sock -v /captain:/captain caprover/caprover</p>
<p>&nbsp;</p>
<p>https://caprover.com/docs/run-locally.html</p>
<p>&nbsp;</p>
<p>PW: captain42</p>
<p>&nbsp;</p>
<p>---</p>
